// Patch and unpatch the method that hijacks the HUD rendering function
extern INDEX iRenderHUDPatch = GetFuncPatch("CPlayer::RenderHUD(...)");

if (iRenderHUDPatch != -1) {
  if (ahud_bEnable != 0) {
    EnablePatch(iRenderHUDPatch);
  } else {
    DisablePatch(iRenderHUDPatch);
  }
}
